#  智慧学习平台测试文档

## 1. 测试概述

本文档基于《需求文档.md》定义的功能与非功能需求，提供测试范围、策略与代表性用例，确保平台在功能正确性、性能、安全、可用性与合规方面满足上线标准。

## 2. 测试依据
关键需求分组：学生端、教师端、管理员端；性能；可靠性；可用性；安全（MFA、RBAC、HTTPS、加密、日志审计、会话管理）；接口与第三方（SSO、教务对接、OAuth2.0）；数据交换与导入导出。

## 3. 测试目标
- 验证三端功能按需求实现，流程闭环可用。
- 验证性能指标：页面加载<2秒，数据库查询<500ms；并发能力与资源占用满足约束。
- 验证安全与合规：HTTPS、加密、权限最小化、会话30分钟超时、日志审计可追溯、数据最小化与可删除。
- 验证接口与第三方对接的正确性与健壮性。
- 覆盖兼容性、无障碍与可用性。

## 4. 测试范围
### 4.1 学生端
- 注册/登录（含第三方登录）、找回密码、个人信息。
- 课程浏览/搜索/推荐、选退课、我的课程与进度可视化。
- 视频与课件学习、学习笔记。
- 作业查看/提交/历史、批改结果查看。
- 成绩查询/分析/导出。
- 互动：讨论、提问、消息通知。
### 4.2 教师端
- 课程管理（增删改、资源上传）。
- 作业发布/批改/评分/评语模板、批量操作。
- 成绩录入/修改（含日志）、统计与报表导出。
- 学生列表/分组/通知。
- 数据分析与课程质量评估。
### 4.3 管理员端
- 用户审核/角色权限（RBAC）。
- 课程审核与上下架。
- 数据统计看板与报表导出。
- 系统设置、公告、版本与升级回滚。
- 安全监控与日志审计。
### 4.4 非功能
- 性能、可靠性（备份恢复、容灾、可用性99.5%）、安全、可用性与无障碍、兼容性、接口与第三方集成、数据导入导出、容器化部署要求。

## 5. 测试策略与级别
- 测试级别：单元测试、接口测试、集成测试、系统测试、回归测试、UAT。
- 执行策略：先冒烟后全面，功能与非功能并行推进，关键路径优先（选课-学习-作业-成绩闭环；教师发布-批改-统计；管理员审核与报表）。

## 6. 代表性功能测试用例
### 6.1 学生端
- 用例 S1：注册/登录/找回密码
	- 步骤：
		- 使用邮箱/手机号注册，校验验证码策略与密码强度。
		- 使用正确凭据登录；尝试错误密码/验证码次数限制与提示。
		- 找回密码流程完成并强制重新登录。
	- 预期：注册、登录成功；错误信息提示清晰；密码策略与验证码生效。
- 用例 S2：选课/退课与课程详情
	- 步骤：
		- 浏览课程、搜索关键字；进入详情查看大纲与评价。
		- 选课达上限与未到时间的限制校验；成功选课后展示在“我的课程”。
		- 发起退课，校验限制规则与结果反馈。
	- 预期：限制规则准确；选退课数据与进度同步更新。
- 用例 S3：作业提交与批改结果查看
	- 步骤：
		- 在截止前/后分别提交，校验多文件与重复提交规则；
		- 查看批改分数、评语与附件；
		- 查看历史作业统计。
	- 预期：提交与状态正确，批改结果展示完整，历史统计准确。
- 用例 S4：成绩查询与导出
	- 预期：成绩趋势图、分布与排名正确；导出Excel/PDF文件可用。

### 6.2 教师端
- 用例 T1：课程管理
	- 预期：新增/编辑/删除课程受权限与确认保护；资源上传转码/校验通过。
- 用例 T2：作业发布与批量批改
	- 步骤：设置截止时间与要求；对多名学生进行在线批改与批量评分，使用评语模板。
	- 预期：发布成功；批量操作性能稳定，评分与评语准确写入。
- 用例 T3：成绩管理与日志
	- 预期：导入/导出成功；修改成绩写入审计日志，申诉流程可跟踪。

### 6.3 管理员端
- 用例 A1：用户审核与角色权限
	- 预期：审核通过后用户可登录；基于角色的菜单/数据范围精确隔离（RBAC）。
- 用例 A2：课程审核与上下架
	- 预期：状态切换后对三端展示一致；操作记录可审计。
- 用例 A3：统计看板与报表
	- 预期：指标计算与时间范围筛选正确；导出文件内容与图表一致。

## 7. 安全测试计划
- 传输与存储：全站HTTPS；密码/敏感数据加密存储；日志脱敏。
- 认证：用户名密码+验证码；可选多因素；会话空闲30分钟自动退出，刷新后续期策略验证。
- 授权：RBAC细粒度功能/数据权限，水平越权/垂直越权用例覆盖。
- 常见漏洞：SQL注入、XSS、CSRF、文件上传、任意重置、IDOR、弱口令、暴力破解速率限制。
- 审计：关键操作（成绩修改、权限变更、课程上下架）写入不可篡改日志，时间与操作者准确。

## 8. 性能与容量测试计划
- 指标：
  - 页面首屏加载<2秒；数据库查询<500ms；
  - 并发：全站10000+并发用户，单台5000并发连接；
  - 资源占用：CPU/内存<80%。
- 场景：
  - 高峰选课；作业截止前48小时流量；教师批量批改与成绩导出；报表批量生成。

## 9. 可靠性与备份恢复
- 目标：30分钟内恢复服务；周全量、日增量备份；异地备份与演练。
- 用例：数据库误删回滚；对象存储误删恢复；主从/读写分离切换；服务重启与重试机制验证。

## 10. 可用性与无障碍
- 可用性：关键任务≤3次点击；操作反馈明确；新手引导检查。
- 无障碍：屏幕阅读器可读；对比度达标（WCAG）；键盘可操作；语音导航基本流程可达。

## 11. 兼容性
- 浏览器：Chrome、Edge 当前与前一主版本；移动端主流浏览器抽检核心流程。

## 12. 接口与第三方集成
- RESTful API：鉴权（OAuth2.0）、版本化、错误码与限流策略。
- 数据交换：Excel/CSV导入导出大样本与异常数据回滚。
- 第三方：SSO/统一身份认证联调；与教务系统的数据同步双向校验与幂等性。

## 13. [DEPRECATED]容器化与部署验证
- Docker 镜像安全扫描；启动探针/存活探针；配置与密钥管理校验。
- 灰度发布策略验证与回滚演练；CI/CD流程门禁（单测覆盖率≥80%）。

## 14. 测试环境
- 操作系统：NixOS 22.11
- 浏览器：Chrome、Firefox
- 数据库：PostgresQL 18

## 15. 测试数据
- 账号：学生≥50、教师≥10、管理员≥2；
- 课程：≥20（含不同分类与人数上限）；
- 作业：每课程≥3次，覆盖多文件与大文件；
- 边界与异常：非法输入、超长字段、空文件、重复导入。

## 16. 进入与退出准则
- 进入：测试环境搭建完成；需求基线冻结；核心接口可用；冒烟通过。
- 退出：
  - 阻断/高/中缺陷均关闭或有可接受规避方案；
  - 关键指标达成（性能、可靠性、安全性、无障碍、兼容性）；
  - UAT通过并获得签署。

## 17. 缺陷管理
- 全量记录重现步骤、期望/实际结果、环境、日志与截图；
- 严重度/优先级分级处理；修复后回归与影响分析；
- 周报同步趋势，临近上线提升回归频次与阻断项清零。